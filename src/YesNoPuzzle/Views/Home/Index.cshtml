@{
    ViewData["Title"] = "Home Page";
}

@using Microsoft.EntityFrameworkCore.Metadata.Internal
@model ICollection<Game>

<script>
    function addGame() {
        $.post({
            url: "/Home/AddNewGame",
            data: {
                GameName: $('#newGameName').val(),
                GameCondition: $('#newGameCondition').val()
            },
            success: function (data) {
                alert(data);
                window.location.reload();
            }
        });
    }
</script>
<input type="text" id="newGameName" /><br />
<input type="text" id="newGameCondition" /><br />
<button onclick="addGame()">New game</button>

<hr />
@{
    <h1>Games: @Model.Count</h1>
    foreach(var g in Model)
    {
        <h4><a href="/Home/Game/@g.Id">@g.GameName</a></h4>
    }

}